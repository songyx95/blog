(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{363:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"github-pages-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-pages-部署"}},[t._v("#")]),t._v(" GitHub Pages 部署")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("如果你的现有项目依赖了 webpack 3.x，推荐使用 Yarn 而不是 npm 来安装 VuePress。因为在这种情形下，npm 会生成错误的依赖树。")])]),t._v(" "),a("h2",{attrs:{id:"前提-推荐使用-yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提-推荐使用-yarn"}},[t._v("#")]),t._v(" 前提（推荐使用 yarn）")]),t._v(" "),a("p",[t._v("1.如果你已经安装了"),a("code",[t._v("npm")]),t._v("，那么可以使用"),a("code",[t._v("npm")]),t._v("安装"),a("code",[t._v("yarn")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install -g yarn\n")])])]),a("p",[t._v("2.直接在官网下载安装："),a("a",{attrs:{href:"https://classic.yarnpkg.com/zh-Hans/docs/install/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://classic.yarnpkg.com/zh-Hans/docs/install/"),a("OutboundLink")],1),t._v("，注意区分开操作系统。")]),t._v(" "),a("p",[a("strong",[t._v("查看是否安装成功")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn -v\n")])])]),a("p",[a("strong",[t._v("yarn 常用命名")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 初始化一个项目\nyarn init\n# 装包\nyarn add packagename\nyarn add packagename --dev\n# 更新包\nyarn upgrade packagename\n# 删除包\nyarn remove packagename\n# 安装所有包\nyarn\nyarn install\n# 发布包\nyarn publish\n# 查看包的缓存列表\nyarn cache list\n# 全局安装包 == npm -g\nyarn global\n")])])]),a("h2",{attrs:{id:"开始部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始部署"}},[t._v("#")]),t._v(" 开始部署")]),t._v(" "),a("p",[t._v("首先申请并注册好 GitHub 账号，并在 GitHub 上建立仓库 "),a("strong",[t._v("(注意仓库要选择公开的，如果选择私有的话后期部署上去需要额外交付费用的)")]),t._v("，此处省略。"),a("br"),t._v("\n然后再本地初始化仓库，并关联远程仓库，这里选择使用 "),a("code",[t._v("SSH")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git init\ngit remote add origin 你的远程仓库(git@github.com:用户名/仓库名.git)\n")])])]),a("p",[t._v("整个项目上传到 "),a("code",[t._v("master")]),t._v(" 分支上，方便管理")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('git add .\ngit commit -m "first init"\ngit push -u origin master\n')])])]),a("p",[t._v("注意，最好配置一个 .gitignore 文件，去掉不需要上传的文件和文件夹。")]),t._v(" "),a("h2",{attrs:{id:"正式部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正式部署"}},[t._v("#")]),t._v(" 正式部署")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("首先，在 "),a("code",[t._v("docs/.vuepress/config.js")]),t._v(" 中配置正确的 "),a("code",[t._v("base")]),t._v("。此时的"),a("code",[t._v("base")]),t._v("路径有两种配置方式。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("如果你打算发布到"),a("code",[t._v("https://<USERNAME>.github.io/")]),t._v("，则可以省略这一步，因为"),a("code",[t._v("base")]),t._v("默认即是"),a("code",[t._v('"/"')]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("如果你打算发布到"),a("code",[t._v("https://<USERNAME>.github.io/<REPO>/")]),t._v("（也就是说你的仓库在"),a("code",[t._v("https://github.com/<USERNAME>/<REPO>")]),t._v("），则将"),a("code",[t._v("base")]),t._v("设置为"),a("code",[t._v('"/<REPO>/"')]),t._v("。")])])])])]),t._v(" "),a("p",[t._v("比如我的仓库名叫：blog")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"标题"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  description"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"描述"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  base"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/blog/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在你的项目中，创建一个如下的"),a("code",[t._v("deploy.sh")]),t._v("文件")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env sh")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 确保脚本抛出遇到的错误")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成静态文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run docs:build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入生成的文件夹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" docs/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果是发布到自定义域名")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo 'www.example.com' > CNAME")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果发布到 https://<USERNAME>.github.io")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果发布到 https://<USERNAME>.github.io/<REPO>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 把上面的 <USERNAME> 换成你自己的 Github 用户名，<REPO> 换成仓库名，示例：")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -f git@github.com:yonghjum/blog.git master:gh-pages\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" -\n")])])]),a("p",[t._v("在 "),a("code",[t._v("package.json")]),t._v(" 配置")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"docs:dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress dev docs --temp .temp"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"docs:build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress build docs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"deploy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bash deploy.sh"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("配置好后在"),a("code",[t._v("Git Bash")]),t._v("输入"),a("code",[t._v("yarn deploy")]),t._v("运行\n"),a("img",{attrs:{src:"https://s1.ax1x.com/2020/08/28/dIjZE4.png",alt:"效果"}})]),t._v(" "),a("p",[t._v("运行到这里，就已经成功了，接着返回 "),a("code",[t._v("GitHub")]),t._v(" 仓库中点击 "),a("code",[t._v("setting")]),t._v("，在当前页找到 "),a("code",[t._v("GitHub Pages")]),t._v(" "),a("img",{attrs:{src:"https://s1.ax1x.com/2020/08/28/dIj7a4.png",alt:"效果"}}),t._v(" "),a("img",{attrs:{src:"https://s1.ax1x.com/2020/08/28/dIjzqO.png",alt:"效果"}})]),t._v(" "),a("p",[t._v("这个是我部署上去的示例："),a("a",{attrs:{href:"https://songyx95.github.io/blog/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://songyx95.github.io/blog/"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);